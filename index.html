<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Tica-tacoe</title>
    <link rel="stylesheet" href="index.css">
</head>
<body>
    <article class="board">
        <table>
            <tbody>
            <tr>
                <td class="field" id="0"></td>
                <td class="field" id="1"></td>
                <td class="field" id="2"></td>
            </tr>
            <tr>
                <td class="field" id="3"></td>
                <td class="field" id="4"></td>
                <td class="field" id="5"></td>
            </tr>
            <tr>
                <td class="field" id="6"></td>
                <td class="field" id="7"></td>
                <td class="field" id="8"></td>
            </tr>
            </tbody>
        </table>
    </article>
    <script>
        const CIRCLE = 'CIRCLE';
        const CROSS = 'CROSS';
        let last = '';
        let fields = [[], [], []];

        function addValueToMatrix(value){
            if (value <= 2){
                return 0
            }

            if (value >= 3 && value <= 5){
                return 1
            }

            return 2
        }
        const elems = document.querySelectorAll('td.field');
        elems.forEach(element => {
            element.addEventListener("click", (e)=> {
                console.log(fields)
                if (typeof fields[addValueToMatrix(e.target.id)][e.target.id] !== 'undefined'){
                    return false
                }
                if (last === CROSS && last !== ''){
                    last = CIRCLE
                    fields[addValueToMatrix(e.target.id)][e.target.id] = CROSS
                    return element.innerHTML = "<img src='assets/circle.svg' alt='' width='90px' />"
                } else {
                    last = CROSS
                    fields[addValueToMatrix(e.target.id)][e.target.id] = CIRCLE
                    element.innerHTML = "<img src='assets/cross.svg' alt='' width='90px' />"
                }
            })
        });
    </script>
</body>
</html>